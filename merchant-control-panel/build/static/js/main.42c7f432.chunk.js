(this["webpackJsonpreact-auth"]=this["webpackJsonpreact-auth"]||[]).push([[0],{37:function(e,t,c){},39:function(e,t,c){},46:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(14),r=c.n(s),i=(c(37),c(11)),o=c.n(i),j=c(18),l=c(3),b=(c(39),c(4)),u=c(1);window.MyNamespace=window.MyNamespace||{};var d=function(e){var t=Object(n.useState)(""),c=Object(l.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(!1),i=Object(l.a)(r,2),d=i[0],m=i[1],h=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),m(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d?(window.MyNamespace.account=a,Object(u.jsx)(b.a,{to:"/home"})):Object(u.jsx)("main",{className:"form-signin",children:Object(u.jsxs)("form",{onSubmit:h,children:[Object(u.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Admin"}),Object(u.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Merchant Account",required:!0,onChange:function(e){return s(e.target.value)}}),Object(u.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Sign in"})]})})},m=c(16),h=function(e){var t,c=function(){var t=Object(j.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://ec2-18-185-157-86.eu-central-1.compute.amazonaws.com:8000/api/logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});case 2:e.setName("");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t=""===e.name?Object(u.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-md-0",children:[Object(u.jsx)("li",{className:"nav-item active",children:Object(u.jsx)(m.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(u.jsx)("li",{className:"nav-item active",children:Object(u.jsx)(m.b,{to:"/register",className:"nav-link",children:"Register"})})]}):Object(u.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-md-0",children:Object(u.jsx)("li",{className:"nav-item active",children:Object(u.jsx)(m.b,{to:"/login",className:"nav-link",onClick:c,children:"Logout"})})}),Object(u.jsx)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark mb-4",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)(m.b,{to:"/",className:"navbar-brand",children:"Merchant Pannel"}),Object(u.jsx)("div",{children:t})]})})},O=function(e){var t=Object(n.useState)(""),c=Object(l.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(""),i=Object(l.a)(r,2),o=i[0],j=i[1];Object(n.useEffect)((function(){b()}),[]);var b=function(){fetch("http://ec2-18-185-157-86.eu-central-1.compute.amazonaws.com:9001/api/merchant/info",{method:"POST",body:JSON.stringify({account:window.MyNamespace.account})}).then((function(e){return e.json()})).then((function(e){return t=e.data,s(t.apiKey),void j(t.webhook);var t}))};return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"container w-50",children:[Object(u.jsx)("h1",{children:"Merchant Home Page"}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{className:"form-label",children:"API Key"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput",placeholder:"Example input placeholder",defaultValue:a})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{className:"form-label",children:"Webhook URL"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Another input placeholder",defaultValue:o})]})]})})},p=c(52),f=c(53),x=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(l.a)(s,2),i=r[0],d=r[1],m=Object(n.useState)(""),h=Object(l.a)(m,2),O=h[0],x=h[1],N=Object(n.useState)(!1),v=Object(l.a)(N,2),y=v[0],g=(v[1],Object(n.useState)("")),w=Object(l.a)(g,2),S=w[0],M=w[1],k=Object(n.useState)(!1),T=Object(l.a)(k,2),C=T[0],E=T[1],P=function(){return E(!1)},R=function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("http://ec2-18-185-157-86.eu-central-1.compute.amazonaws.com:9001/api/merchant/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({merchantName:c,account:i,webHookUrl:O})}).then((function(e){return e.json()})).then((function(e){return M(e.data.apiKey)}));case 3:E(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return y?Object(u.jsx)(b.a,{to:"/login"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(p.a,{show:C,onHide:P,children:[Object(u.jsx)(p.a.Header,{closeButton:!0,children:Object(u.jsx)(p.a.Title,{children:" Merchant Registered"})}),Object(u.jsxs)(p.a.Body,{children:["API key: ",Object(u.jsx)("strong",{children:S})]}),Object(u.jsx)(p.a.Footer,{children:Object(u.jsx)(f.a,{variant:"secondary",onClick:P,children:"Close Button"})})]}),Object(u.jsx)("main",{className:"form-signin",children:Object(u.jsxs)("form",{onSubmit:R,children:[Object(u.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Merchant Register"}),Object(u.jsx)("input",{className:"form-control mb-2",placeholder:"Merchant Name",required:!0,onChange:function(e){return a(e.target.value)}}),Object(u.jsx)("input",{className:"form-control mb-2",placeholder:"Main Account",required:!0,onChange:function(e){return d(e.target.value)}}),Object(u.jsx)("input",{className:"form-control mb-2",placeholder:"WebHook URL",required:!0,onChange:function(e){return x(e.target.value)}}),Object(u.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Submit"})]})})]})};c(46);function N(e){return Object(u.jsxs)("div",{className:"featured",children:[Object(u.jsxs)("div",{className:"featuredItem",children:[Object(u.jsx)("span",{className:"featuredTitle",children:"Merchants"}),Object(u.jsxs)("div",{className:"featuredMoneyContainer",children:[Object(u.jsx)("span",{className:"featuredMoney",children:e.merchantNum}),Object(u.jsx)("span",{className:"featuredMoneyRate"})]}),Object(u.jsx)("span",{className:"featuredSub",children:"Total merchant registered"})]}),Object(u.jsxs)("div",{className:"featuredItem",children:[Object(u.jsx)("span",{className:"featuredTitle",children:"Payments"}),Object(u.jsxs)("div",{className:"featuredMoneyContainer",children:[Object(u.jsx)("span",{className:"featuredMoney",children:e.paymentNum}),Object(u.jsx)("span",{className:"featuredMoneyRate"})]}),Object(u.jsx)("span",{className:"featuredSub",children:"Total payments made"})]}),Object(u.jsxs)("div",{className:"featuredItem",children:[Object(u.jsx)("span",{className:"featuredTitle",children:"REEF"}),Object(u.jsxs)("div",{className:"featuredMoneyContainer",children:[Object(u.jsx)("span",{className:"featuredMoney",children:e.reefNum}),Object(u.jsx)("span",{className:"featuredMoneyRate"})]}),Object(u.jsx)("span",{className:"featuredSub",children:"Total REEF token transferred"})]})]})}var v=c(25),y=c.n(v),g=(c(48),function(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)([]),i=Object(l.a)(r,2),o=i[0],j=i[1],b=Object(n.useState)(0),d=Object(l.a)(b,2),m=d[0],h=d[1],O=Object(n.useState)(0),p=Object(l.a)(O,2),f=p[0],x=p[1],v=Object(n.useState)(0),g=Object(l.a)(v,2),w=g[0],S=g[1];Object(n.useEffect)((function(){M(),k(),T()}),[]);var M=function(){fetch("http://ec2-18-185-157-86.eu-central-1.compute.amazonaws.com:9001/api/merchant_list").then((function(e){return e.json()})).then((function(e){return s(e.data.res)}))},k=function(){fetch("http://ec2-18-185-157-86.eu-central-1.compute.amazonaws.com:9001/api/latest_payments").then((function(e){return e.json()})).then((function(e){return j(e.data.res)}))},T=function(){fetch("http://ec2-18-185-157-86.eu-central-1.compute.amazonaws.com:9001/api/stat").then((function(e){return e.json()})).then((function(e){return function(e){var t=e.data.res;h(t[0]),x(t[1]),S(t[2])}(e)}))};return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(N,{merchantNum:m,paymentNum:f,reefNum:w}),Object(u.jsxs)("div",{className:"dataTable",children:[Object(u.jsx)("span",{className:"tabName",children:"Merchant List"}),Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"ID"}),Object(u.jsx)("th",{scope:"col",children:"Main Account"}),Object(u.jsx)("th",{scope:"col",children:"WebHook URL"}),Object(u.jsx)("th",{scope:"col",children:"Register Time"})]})}),Object(u.jsx)("tbody",{children:a.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.id}),Object(u.jsx)("td",{children:e.account}),Object(u.jsx)("td",{children:e.webhook}),Object(u.jsx)("td",{children:y()(1e3*e.create_time).format("YYYY/MM/DD HH:mm:ss")})]},t)}))})]}),Object(u.jsx)("span",{className:"tabName",children:"Latest Payment"}),Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Hash"}),Object(u.jsx)("th",{scope:"col",children:"Payment Address"}),Object(u.jsx)("th",{scope:"col",children:"Amount"}),Object(u.jsx)("th",{scope:"col",children:"Payment Time"})]})}),Object(u.jsx)("tbody",{children:o.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsxs)("a",{href:"https://testnet.reefscan.com/transfer/"+e.tx,target:"https://testnet.reefscan.com/transfer/"+e.tx,children:[e.tx.substr(0,6)+"..."+e.tx.substr(62)," "]})}),Object(u.jsx)("td",{children:e.payment_address}),Object(u.jsxs)("td",{children:[e.balance," REEF"]}),Object(u.jsx)("td",{children:y()(1e3*e.create_time).format("YYYY/MM/DD HH:mm:ss")})]},t)}))})]})]})]})})});var w=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()})),Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(m.a,{children:[Object(u.jsx)(h,{name:c,setName:a}),Object(u.jsx)(b.b,{path:"/",exact:!0,component:function(){return Object(u.jsx)(g,{name:c})}}),Object(u.jsx)(b.b,{path:"/login",component:function(){return Object(u.jsx)(d,{setName:a})}}),Object(u.jsx)(b.b,{path:"/register",component:x}),Object(u.jsx)(b.b,{path:"/home",component:O})]})})},S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,54)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root")),S()}},[[49,1,2]]]);
//# sourceMappingURL=main.42c7f432.chunk.js.map